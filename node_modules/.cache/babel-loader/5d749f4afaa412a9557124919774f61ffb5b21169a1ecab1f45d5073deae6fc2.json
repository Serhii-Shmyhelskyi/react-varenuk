{"ast":null,"code":"import _regeneratorRuntime from\"C:/Disc D/\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F 2.0/reactJS/react_varenuk/react-varenuk/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Disc D/\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F 2.0/reactJS/react_varenuk/react-varenuk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";var Status;(function(Status){Status[\"LOADING\"]=\"loading\";Status[\"SUCCESS\"]=\"success\";Status[\"ERROR\"]=\"error\";})(Status||(Status={}));var initialState={items:[],status:Status.LOADING};export var fetchVarenuks=createAsyncThunk(\"varenuk/fetchVarenuksStatus\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(params){var order,sortBy,category,search,currentPage,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:order=params.order,sortBy=params.sortBy,category=params.category,search=params.search,currentPage=params.currentPage;_context.next=3;return axios.get(\"https://63ebc7d7be929df00ca23593.mockapi.io/items?page=\".concat(currentPage,\"&limit=4&\").concat(category,\"&sortBy=\").concat(sortBy,\"&order=\").concat(order).concat(search));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 6:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());var varenukSlice=createSlice({name:\"varenuk\",initialState:initialState,reducers:{setItems:function setItems(state,action){state.items=action.payload;}},extraReducers:function extraReducers(builder){builder.addCase(fetchVarenuks.pending,function(state){state.status=Status.LOADING;state.items=[];});builder.addCase(fetchVarenuks.fulfilled,function(state,action){state.items=action.payload;state.status=Status.SUCCESS;});builder.addCase(fetchVarenuks.rejected,function(state){state.status=Status.ERROR;state.items=[];});}});export var selectVarenuk=function selectVarenuk(state){return state.varenuk;};var setItems=varenukSlice.actions.setItems;export{setItems};export default varenukSlice.reducer;","map":{"version":3,"names":["axios","createSlice","createAsyncThunk","Status","initialState","items","status","LOADING","fetchVarenuks","params","order","sortBy","category","search","currentPage","get","data","varenukSlice","name","reducers","setItems","state","action","payload","extraReducers","builder","addCase","pending","fulfilled","SUCCESS","rejected","ERROR","selectVarenuk","varenuk","actions","reducer"],"sources":["C:/Disc D/Програмування 2.0/reactJS/react_varenuk/react-varenuk/src/redux/slices/varenukSlice.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"../store\";\r\nimport CartItem from \"../../components/CartItem\";\r\nimport { SortSlice } from \"./filterSlice\";\r\n\r\ntype Varenuk = {\r\n  id: string;\r\n  title: string;\r\n  price: number;\r\n  imageUrl: string;\r\n  sizes: number[];\r\n  types: number[];\r\n};\r\n\r\nenum Status {\r\n  LOADING = \"loading\",\r\n  SUCCESS = \"success\",\r\n  ERROR = \"error\",\r\n}\r\n\r\ninterface VarenukSliceState {\r\n  items: Varenuk[];\r\n  status: Status;\r\n}\r\n\r\nconst initialState: VarenukSliceState = {\r\n  items: [],\r\n  status: Status.LOADING,\r\n};\r\n\r\nexport type SearchVarenukParams = {\r\n  order: string;\r\n  sortBy: string;\r\n  category: string;\r\n  search: string;\r\n  currentPage: string;\r\n};\r\n\r\nexport const fetchVarenuks = createAsyncThunk<Varenuk[], SearchVarenukParams>(\r\n  \"varenuk/fetchVarenuksStatus\",\r\n  async (params) => {\r\n    const { order, sortBy, category, search, currentPage } = params;\r\n    const { data } = await axios.get<Varenuk[]>(\r\n      `https://63ebc7d7be929df00ca23593.mockapi.io/items?page=${currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}${search}`\r\n    );\r\n    return data;\r\n  }\r\n);\r\n\r\nconst varenukSlice = createSlice({\r\n  name: \"varenuk\",\r\n  initialState,\r\n  reducers: {\r\n    setItems(state, action: PayloadAction<Varenuk[]>) {\r\n      state.items = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchVarenuks.pending, (state) => {\r\n      state.status = Status.LOADING;\r\n      state.items = [];\r\n    });\r\n    builder.addCase(fetchVarenuks.fulfilled, (state, action) => {\r\n      state.items = action.payload;\r\n      state.status = Status.SUCCESS;\r\n    });\r\n    builder.addCase(fetchVarenuks.rejected, (state) => {\r\n      state.status = Status.ERROR;\r\n      state.items = [];\r\n    });\r\n  },\r\n});\r\n\r\nexport const selectVarenuk = (state: RootState) => state.varenuk;\r\n\r\nexport const { setItems } = varenukSlice.actions;\r\n\r\nexport default varenukSlice.reducer;\r\n"],"mappings":"4bAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,gBAAgB,KAAuB,kBAAkB,CAAC,GAc3EC,OAAM,WAANA,MAAM,EAANA,MAAM,sBAANA,MAAM,sBAANA,MAAM,qBAANA,MAAM,GAANA,MAAM,MAWX,GAAMC,aAA+B,CAAG,CACtCC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAEH,MAAM,CAACI,OACjB,CAAC,CAUD,MAAO,IAAMC,cAAa,CAAGN,gBAAgB,CAC3C,6BAA6B,4FAC7B,iBAAOO,MAAM,sLACHC,KAAK,CAA4CD,MAAM,CAAvDC,KAAK,CAAEC,MAAM,CAAoCF,MAAM,CAAhDE,MAAM,CAAEC,QAAQ,CAA0BH,MAAM,CAAxCG,QAAQ,CAAEC,MAAM,CAAkBJ,MAAM,CAA9BI,MAAM,CAAEC,WAAW,CAAKL,MAAM,CAAtBK,WAAW,uBAC7Bd,MAAK,CAACe,GAAG,kEAC4BD,WAAW,qBAAYF,QAAQ,oBAAWD,MAAM,mBAAUD,KAAK,SAAGG,MAAM,EACnI,uCAFOG,IAAI,kBAAJA,IAAI,iCAGLA,IAAI,uDACZ,+DACF,CAED,GAAMC,aAAY,CAAGhB,WAAW,CAAC,CAC/BiB,IAAI,CAAE,SAAS,CACfd,YAAY,CAAZA,YAAY,CACZe,QAAQ,CAAE,CACRC,QAAQ,mBAACC,KAAK,CAAEC,MAAgC,CAAE,CAChDD,KAAK,CAAChB,KAAK,CAAGiB,MAAM,CAACC,OAAO,CAC9B,CACF,CAAC,CACDC,aAAa,CAAE,uBAACC,OAAO,CAAK,CAC1BA,OAAO,CAACC,OAAO,CAAClB,aAAa,CAACmB,OAAO,CAAE,SAACN,KAAK,CAAK,CAChDA,KAAK,CAACf,MAAM,CAAGH,MAAM,CAACI,OAAO,CAC7Bc,KAAK,CAAChB,KAAK,CAAG,EAAE,CAClB,CAAC,CAAC,CACFoB,OAAO,CAACC,OAAO,CAAClB,aAAa,CAACoB,SAAS,CAAE,SAACP,KAAK,CAAEC,MAAM,CAAK,CAC1DD,KAAK,CAAChB,KAAK,CAAGiB,MAAM,CAACC,OAAO,CAC5BF,KAAK,CAACf,MAAM,CAAGH,MAAM,CAAC0B,OAAO,CAC/B,CAAC,CAAC,CACFJ,OAAO,CAACC,OAAO,CAAClB,aAAa,CAACsB,QAAQ,CAAE,SAACT,KAAK,CAAK,CACjDA,KAAK,CAACf,MAAM,CAAGH,MAAM,CAAC4B,KAAK,CAC3BV,KAAK,CAAChB,KAAK,CAAG,EAAE,CAClB,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CAEF,MAAO,IAAM2B,cAAa,CAAG,QAAhBA,cAAa,CAAIX,KAAgB,QAAKA,MAAK,CAACY,OAAO,GAEzD,GAAQb,SAAQ,CAAKH,YAAY,CAACiB,OAAO,CAAjCd,QAAQ,CAA0B,iBAEjD,cAAeH,aAAY,CAACkB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}