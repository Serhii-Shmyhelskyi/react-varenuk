{"ast":null,"code":"import _slicedToArray from\"C:/Disc D/\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F 2.0/reactJS/react_varenuk/react-varenuk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{addItem,selectCartItemById}from\"../../redux/slices/cartSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var typeNames=[\"ніжні\",\"гострі\"];var VarenukBlock=function VarenukBlock(_ref){var id=_ref.id,title=_ref.title,price=_ref.price,imageUrl=_ref.imageUrl,sizes=_ref.sizes,types=_ref.types;var dispatch=useDispatch();var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),activeType=_React$useState2[0],setActiveType=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),activeSize=_React$useState4[0],setActiveSize=_React$useState4[1];var cartItem=useSelector(selectCartItemById(id));var addedCount=cartItem?cartItem.count:0;var onClickAdd=function onClickAdd(){var item={id:id,title:title,price:price,imageUrl:imageUrl,type:typeNames[activeType],size:sizes[activeSize],count:0};dispatch(addItem(item));};return/*#__PURE__*/_jsx(\"div\",{className:\"varenuk-block-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"varenuk-block\",children:[/*#__PURE__*/_jsx(Link,{to:\"varenuk/\".concat(id),children:/*#__PURE__*/_jsx(\"img\",{width:260,height:260,className:\"varenuk-block__image\",src:imageUrl,alt:\"Varenuk\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"varenuk-block__title\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"varenuk-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(typeId,i){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setActiveType(i);},className:activeType===i?\"active\":\"\",children:typeNames[typeId]},i);})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(size,i){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setActiveSize(i);},className:activeSize===i?\"active\":\"\",children:[size,\" \\u0448\\u0442.\"]},i);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"varenuk-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"varenuk-block__price\",children:[\"\\u0432\\u0456\\u0434 \",price,\" \\u20B4\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClickAdd,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u0438\"}),addedCount>0&&/*#__PURE__*/_jsx(\"i\",{children:addedCount})]})]})]})});};export default VarenukBlock;","map":{"version":3,"names":["React","useDispatch","useSelector","Link","addItem","selectCartItemById","typeNames","VarenukBlock","id","title","price","imageUrl","sizes","types","dispatch","useState","activeType","setActiveType","activeSize","setActiveSize","cartItem","addedCount","count","onClickAdd","item","type","size","map","typeId","i"],"sources":["C:/Disc D/Програмування 2.0/reactJS/react_varenuk/react-varenuk/src/components/VarenukBlock/index.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  addItem,\r\n  CartItem,\r\n  selectCartItemById,\r\n} from \"../../redux/slices/cartSlice\";\r\n\r\nconst typeNames: string[] = [\"ніжні\", \"гострі\"];\r\n\r\ntype VarenukBlockProps = {\r\n  id: string;\r\n  title: string;\r\n  price: number;\r\n  imageUrl: string;\r\n  sizes: number[];\r\n  types: number[];\r\n};\r\n\r\nconst VarenukBlock: React.FC<VarenukBlockProps> = ({\r\n  id,\r\n  title,\r\n  price,\r\n  imageUrl,\r\n  sizes,\r\n  types,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const [activeType, setActiveType] = React.useState(0);\r\n  const [activeSize, setActiveSize] = React.useState(0);\r\n\r\n  const cartItem = useSelector(selectCartItemById(id));\r\n\r\n  const addedCount = cartItem ? cartItem.count : 0;\r\n\r\n  const onClickAdd = () => {\r\n    const item: CartItem = {\r\n      id,\r\n      title,\r\n      price,\r\n      imageUrl,\r\n      type: typeNames[activeType],\r\n      size: sizes[activeSize],\r\n      count: 0,\r\n    };\r\n    dispatch(addItem(item));\r\n  };\r\n\r\n  return (\r\n    <div className=\"varenuk-block-wrapper\">\r\n      <div className=\"varenuk-block\">\r\n        <Link to={`varenuk/${id}`}>\r\n          <img\r\n            width={260}\r\n            height={260}\r\n            className=\"varenuk-block__image\"\r\n            src={imageUrl}\r\n            alt=\"Varenuk\"\r\n          />\r\n        </Link>\r\n        <h4 className=\"varenuk-block__title\">{title}</h4>\r\n        <div className=\"varenuk-block__selector\">\r\n          <ul>\r\n            {types.map((typeId, i) => (\r\n              <li\r\n                key={i}\r\n                onClick={() => setActiveType(i)}\r\n                className={activeType === i ? \"active\" : \"\"}>\r\n                {typeNames[typeId]}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <ul>\r\n            {sizes.map((size, i) => (\r\n              <li\r\n                key={i}\r\n                onClick={() => setActiveSize(i)}\r\n                className={activeSize === i ? \"active\" : \"\"}>\r\n                {size} шт.\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"varenuk-block__bottom\">\r\n          <div className=\"varenuk-block__price\">від {price} ₴</div>\r\n          <button\r\n            onClick={onClickAdd}\r\n            className=\"button button--outline button--add\">\r\n            <svg\r\n              width=\"12\"\r\n              height=\"12\"\r\n              viewBox=\"0 0 12 12\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path\r\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                fill=\"white\"\r\n              />\r\n            </svg>\r\n            <span>Добавити</span>\r\n            {addedCount > 0 && <i>{addedCount}</i>}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VarenukBlock;\r\n"],"mappings":"sNAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,IAAI,KAAQ,kBAAkB,CAEvC,OACEC,OAAO,CAEPC,kBAAkB,KACb,8BAA8B,CAAC,wFAEtC,GAAMC,UAAmB,CAAG,CAAC,OAAO,CAAE,QAAQ,CAAC,CAW/C,GAAMC,aAAyC,CAAG,QAA5CA,aAAyC,MAOzC,IANJC,GAAE,MAAFA,EAAE,CACFC,KAAK,MAALA,KAAK,CACLC,KAAK,MAALA,KAAK,CACLC,QAAQ,MAARA,QAAQ,CACRC,KAAK,MAALA,KAAK,CACLC,KAAK,MAALA,KAAK,CAEL,GAAMC,SAAQ,CAAGb,WAAW,EAAE,CAC9B,oBAAoCD,KAAK,CAACe,QAAQ,CAAC,CAAC,CAAC,oDAA9CC,UAAU,qBAAEC,aAAa,qBAChC,qBAAoCjB,KAAK,CAACe,QAAQ,CAAC,CAAC,CAAC,qDAA9CG,UAAU,qBAAEC,aAAa,qBAEhC,GAAMC,SAAQ,CAAGlB,WAAW,CAACG,kBAAkB,CAACG,EAAE,CAAC,CAAC,CAEpD,GAAMa,WAAU,CAAGD,QAAQ,CAAGA,QAAQ,CAACE,KAAK,CAAG,CAAC,CAEhD,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvB,GAAMC,KAAc,CAAG,CACrBhB,EAAE,CAAFA,EAAE,CACFC,KAAK,CAALA,KAAK,CACLC,KAAK,CAALA,KAAK,CACLC,QAAQ,CAARA,QAAQ,CACRc,IAAI,CAAEnB,SAAS,CAACU,UAAU,CAAC,CAC3BU,IAAI,CAAEd,KAAK,CAACM,UAAU,CAAC,CACvBI,KAAK,CAAE,CACT,CAAC,CACDR,QAAQ,CAACV,OAAO,CAACoB,IAAI,CAAC,CAAC,CACzB,CAAC,CAED,mBACE,YAAK,SAAS,CAAC,uBAAuB,uBACpC,aAAK,SAAS,CAAC,eAAe,wBAC5B,KAAC,IAAI,EAAC,EAAE,mBAAahB,EAAE,CAAG,uBACxB,YACE,KAAK,CAAE,GAAI,CACX,MAAM,CAAE,GAAI,CACZ,SAAS,CAAC,sBAAsB,CAChC,GAAG,CAAEG,QAAS,CACd,GAAG,CAAC,SAAS,EACb,EACG,cACP,WAAI,SAAS,CAAC,sBAAsB,UAAEF,KAAK,EAAM,cACjD,aAAK,SAAS,CAAC,yBAAyB,wBACtC,oBACGI,KAAK,CAACc,GAAG,CAAC,SAACC,MAAM,CAAEC,CAAC,qBACnB,WAEE,OAAO,CAAE,yBAAMZ,cAAa,CAACY,CAAC,CAAC,EAAC,CAChC,SAAS,CAAEb,UAAU,GAAKa,CAAC,CAAG,QAAQ,CAAG,EAAG,UAC3CvB,SAAS,CAACsB,MAAM,CAAC,EAHbC,CAAC,CAIH,EACN,CAAC,EACC,cACL,oBACGjB,KAAK,CAACe,GAAG,CAAC,SAACD,IAAI,CAAEG,CAAC,qBACjB,YAEE,OAAO,CAAE,yBAAMV,cAAa,CAACU,CAAC,CAAC,EAAC,CAChC,SAAS,CAAEX,UAAU,GAAKW,CAAC,CAAG,QAAQ,CAAG,EAAG,WAC3CH,IAAI,CAAC,gBACR,GAJOG,CAAC,CAIH,EACN,CAAC,EACC,GACD,cACN,aAAK,SAAS,CAAC,uBAAuB,wBACpC,aAAK,SAAS,CAAC,sBAAsB,WAAC,qBAAI,CAACnB,KAAK,CAAC,SAAE,GAAM,cACzD,gBACE,OAAO,CAAEa,UAAW,CACpB,SAAS,CAAC,oCAAoC,wBAC9C,YACE,KAAK,CAAC,IAAI,CACV,MAAM,CAAC,IAAI,CACX,OAAO,CAAC,WAAW,CACnB,IAAI,CAAC,MAAM,CACX,KAAK,CAAC,4BAA4B,uBAClC,aACE,CAAC,CAAC,0QAA0Q,CAC5Q,IAAI,CAAC,OAAO,EACZ,EACE,cACN,sBAAM,kDAAQ,EAAO,CACpBF,UAAU,CAAG,CAAC,eAAI,mBAAIA,UAAU,EAAK,GAC/B,GACL,GACF,EACF,CAEV,CAAC,CAED,cAAed,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}